{"version":3,"file":"static/js/2941.0e2f3f91.chunk.js","mappings":"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","sources":["components/HomeGroups/HomeGroups.styled.jsx","components/SpecificContentDisplays/HomeGroupLessonMetaInfo/HomeGroupLessonMetaInfo.jsx","components/InteractiveContent/Diagram/Diagram.styled.jsx","components/InteractiveContent/Diagram/Diagram.jsx","utils/chartHelpers.js","components/InteractiveContent/ImagePlaceholder/ImagePlaceholder.styled.jsx","components/InteractiveContent/ImagePlaceholder/ImagePlaceholder.jsx","components/InteractiveContent/HighlightBox/HighlightBox.styled.jsx","components/InteractiveContent/HighlightBox/HighlightBox.jsx","components/InteractiveContent/QuestionPrompt/QuestionPrompt.styled.jsx","components/InteractiveContent/QuestionPrompt/QuestionPrompt.jsx","components/InteractiveContent/ListCards/ListCards.styled.jsx","components/InteractiveContent/ListCards/ListCards.jsx","components/InteractiveContent/List/List.styled.jsx","components/InteractiveContent/List/List.jsx","components/InteractiveContent/Timeline/Timeline.styled.jsx","components/Common/CollapsibleContent/CollapsibleContent.jsx","components/InteractiveContent/Timeline/Timeline.jsx","components/InteractiveContent/ContrastDisplay/ContrastDisplay.styled.jsx","components/InteractiveContent/ContrastDisplay/ContrastDisplay.jsx","components/InteractiveContent/DescriptionWithImage/DescriptionWithImage.styled.jsx","components/InteractiveContent/DescriptionWithImage/DescriptionWithImage.jsx","components/SpecificContentDisplays/HomeGroupLessonDisplay/HomeGroupLessonDisplay.jsx","utils/tagParser.js","utils/validationSchemas.js","utils/parseAndValidateLesson.js","components/HomeGroups/HomeGroups.jsx","pages/HomeGroupsPage.jsx"],"sourcesContent":["// src/components/HomeGroups/HomeGroups.styled.jsx\nimport styled from \"styled-components\";\n\n// Контейнер для головного блоку HomeGroups\nexport const HomeGroupsContainer = styled.div`\n  margin: 0;\n  background-color: ${({ theme }) => theme.colors.background};\n  transition: background-color 0.25s ease-in-out;\n`;\n\n// Повідомлення, коли немає уроків\nexport const NoLessonMessage = styled.p`\n  text-align: center;\n  margin-top: ${({ theme }) => theme.spacing.xxlarge}; // ОНОВЛЕНО: Використано theme.spacing\n  font-size: ${({ theme }) => theme.fontSizes.medium}; // ОНОВЛЕНО: Використано theme.fontSizes\n  color: ${({ theme }) => theme.colors.colorSecondary}; // ОНОВЛЕНО: Використано theme.colors\n`;\n","// src/components/SpecificContentDisplays/HomeGroupLessonMetaInfo/HomeGroupLessonMetaInfo.jsx\nimport React from \"react\";\nimport styled from \"styled-components\";\n\n// Ця назва компонента є достатньо описовою, її можна залишити.\nconst MetaInfoContainer = styled.div`\n  font-size: ${({ theme }) => theme.fontSizes.small}; // ОНОВЛЕНО: Використовуємо fontSizes\n  color: ${({ theme }) => theme.colors.colorSecondary}; // ОНОВЛЕНО: Використовуємо theme.colors\n  // Медіа-запит для мобільних пристроїв, щоб зменшити шрифт\n  ${({ theme }) => theme.media.down(\"sm\")`\n    font-size: ${({ theme }) => theme.fontSizes.xsmall};\n  `}\n\n  p {\n    margin: calc(${({ theme }) => theme.spacing.xsmall} / 2) 0; // ОНОВЛЕНО: Використовуємо spacing\n  }\n\n  span {\n    font-weight: bold;\n    color: ${({ theme }) => theme.colors.color}; // ОНОВЛЕНО: Використовуємо theme.colors\n  }\n\n  .lesson-tags {\n    margin-top: ${({ theme }) => theme.spacing.xsmall}; // ОНОВЛЕНО: Використовуємо spacing\n\n    // Додаємо flexbox для кращого відображення тегів на мобільних пристроях\n    display: flex;\n    flex-wrap: wrap;\n    gap: calc(${({ theme }) => theme.spacing.xsmall} / 2);\n\n    span {\n      display: inline-block;\n      background-color: ${({ theme }) =>\n        theme.colors.tagBg}; // ОНОВЛЕНО: Використовуємо theme.colors\n      color: ${({ theme }) => theme.colors.tagColor}; // ОНОВЛЕНО: Використовуємо theme.colors\n      padding: 4px 8px; // Не змінюємо, оскільки це точні значення\n      border-radius: ${({ theme }) =>\n        theme.borderRadius.small}; // ОНОВЛЕНО: Використовуємо borderRadius\n      font-size: ${({ theme }) => theme.fontSizes.small}; // ОНОВЛЕНО: Використовуємо fontSizes\n    }\n  }\n`;\n\nfunction HomeGroupLessonMetaInfo({ author, book, chapter, verses, date, duration, theme, tags }) {\n  return (\n    <MetaInfoContainer>\n      {author && (\n        <p>\n          Автор: <span>{author}</span>\n        </p>\n      )}\n      {(book || chapter || verses) && (\n        <p>\n          Книга:{\" \"}\n          <span>\n            {book} {chapter ? `глава ${chapter}` : \"\"}\n            {verses ? `, вірші ${verses}` : \"\"}\n          </span>\n        </p>\n      )}\n      {date && (\n        <p>\n          Дата: <span>{date}</span>\n        </p>\n      )}\n      {duration && (\n        <p>\n          Тривалість: <span>{duration}</span>\n        </p>\n      )}\n      {theme && (\n        <p>\n          Тема: <span>{theme}</span>\n        </p>\n      )}\n      {tags && tags.length > 0 && (\n        <div className=\"lesson-tags\">\n          {tags.map((tag, index) => (\n            <span key={index}>{tag}</span>\n          ))}\n        </div>\n      )}\n    </MetaInfoContainer>\n  );\n}\n\nexport default HomeGroupLessonMetaInfo;\n","import styled from \"styled-components\";\n\nexport const DiagramContainer = styled.div`\n  width: 100%;\n  max-width: 950px;\n  margin: ${({ theme }) => theme.spacing.medium} auto;\n  padding: ${({ theme }) => theme.spacing.small};\n  background-color: ${({ theme }) => theme.colors.background};\n  border: 1px solid ${({ theme }) => theme.colors.borderColor};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  box-shadow: ${({ theme }) => theme.shadows.small};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  overflow: hidden;\n`;\n\nexport const DiagramWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: 100%;\n\n  ${({ theme }) => theme.media.down(\"md\")`\n    flex-direction: column; /* діаграма зверху, легенда знизу */\n  `}\n`;\n\nexport const ChartBox = styled.div`\n  flex-grow: 1;\n  min-width: 0;\n  max-width: 70%;\n  height: 300px;\n\n  ${({ theme }) => theme.media.down(\"md\")`\n    max-width: 100%;\n    margin-bottom: 12px;\n    height: 200px;\n  `}\n`;\n\nexport const LegendBox = styled.div`\n  width: 30%;\n  flex-shrink: 0;\n  padding-left: 15px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  ${({ theme }) => theme.media.down(\"md\")`\n    width: 100%;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    padding-left: 0;\n    gap: 12px;\n  `}\n`;\n\nexport const LegendItem = styled.div`\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 8px;\n\n  ${({ theme }) => theme.media.down(\"md\")`\n    margin-bottom: 0;\n    align-items: center;\n  `}\n`;\n\nexport const LegendColor = styled.span`\n  display: inline-block;\n  min-width: 15px;\n  height: 15px;\n  margin-right: 8px;\n  margin-top: 3px;\n  border-radius: 3px;\n`;\n\nexport const LegendText = styled.span`\n  font-size: 13px;\n  word-break: break-word;\n  line-height: 1.3;\n\n  ${({ theme }) => theme.media.down(\"md\")`\n    font-size: 12px;\n  `}\n`;\n","// src/components/InteractiveContent/Diagram/Diagram.jsx\nimport React, { useMemo } from \"react\";\nimport {\n  DiagramContainer,\n  DiagramWrapper,\n  ChartBox,\n  LegendBox,\n  LegendItem,\n  LegendColor,\n  LegendText,\n} from \"./Diagram.styled\";\nimport TokenRenderer from \"../../TokenRenderer/TokenRenderer\";\n\nimport { Line, Bar, Pie, Doughnut, PolarArea, Radar, Bubble, Scatter } from \"react-chartjs-2\";\n\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  ArcElement,\n  RadialLinearScale,\n  Title,\n  Tooltip,\n  Legend,\n  Filler,\n} from \"chart.js\";\n\nimport { useTheme } from \"../../../contexts/ThemeProvider\";\nimport { getChartOptionsWithTheme, getChartDataWithTheme } from \"../../../utils/chartHelpers\";\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  ArcElement,\n  RadialLinearScale,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n);\n\nconst renderChart = (chartType, chartData, chartOptions) => {\n  // ✅ ДОДАНО ПЕРЕВІРКУ: не рендеримо, якщо немає даних або datasets\n  if (!chartData || !chartData.datasets || chartData.datasets.length === 0) {\n    return <p>Недостатньо даних для побудови діаграми.</p>;\n  }\n\n  switch (chartType) {\n    case \"line\":\n      return <Line data={chartData} options={chartOptions} />;\n    case \"bar\":\n      return <Bar data={chartData} options={chartOptions} />;\n    case \"pie\":\n      return <Pie data={chartData} options={chartOptions} />;\n    case \"doughnut\":\n      return <Doughnut data={chartData} options={chartOptions} />;\n    case \"polarArea\":\n      return <PolarArea data={chartData} options={chartOptions} />;\n    case \"radar\":\n      return <Radar data={chartData} options={chartOptions} />;\n    case \"bubble\":\n      return <Bubble data={chartData} options={chartOptions} />;\n    case \"scatter\":\n      return <Scatter data={chartData} options={chartOptions} />;\n    default:\n      return <p>Невідомий тип діаграми: {chartType}</p>;\n  }\n};\n\nfunction Diagram({ title, description, chartType, chartData, chartOptions }) {\n  const { currentTheme } = useTheme();\n\n  // ✅ ДОДАНО ПЕРЕВІРКУ: якщо chartData не існує, повертаємо пустий об'єкт\n  const memoizedChartData = useMemo(() => {\n    return getChartDataWithTheme(chartData || {}, currentTheme, chartType);\n  }, [chartData, currentTheme, chartType]);\n\n  const memoizedChartOptions = useMemo(() => {\n    return getChartOptionsWithTheme({ ...chartOptions, chartType }, currentTheme);\n  }, [chartOptions, currentTheme, chartType]);\n\n  // ✅ ДОДАНО ПЕРЕВІРКУ: якщо немає memoizedChartData, повертаємо порожній масив\n  const customLegendItems = useMemo(() => {\n    if (\n      !memoizedChartData ||\n      !memoizedChartData.labels ||\n      !memoizedChartData.datasets ||\n      memoizedChartData.datasets.length === 0\n    ) {\n      return [];\n    }\n    const colors = memoizedChartData.datasets[0]?.backgroundColor || [];\n\n    return memoizedChartData.labels.map((label, index) => ({\n      text: label,\n      color: Array.isArray(colors) ? colors[index % colors.length] : colors,\n    }));\n  }, [memoizedChartData]);\n\n  if (!currentTheme) {\n    return <p>Завантаження діаграми...</p>;\n  }\n\n  // ✅ ДОДАНО ПЕРЕВІРКУ: якщо немає chartData, повертаємо повідомлення\n  if (!chartData) {\n    return <p>Діаграма завантажується або відсутні дані.</p>;\n  }\n\n  return (\n    <DiagramContainer>\n      {title && (\n        <h4>\n          <TokenRenderer tokens={title} />\n        </h4>\n      )}\n      {description && (\n        <p>\n          <TokenRenderer tokens={description} />\n        </p>\n      )}\n\n      <DiagramWrapper>\n        <ChartBox>{renderChart(chartType, memoizedChartData, memoizedChartOptions)}</ChartBox>\n        <LegendBox>\n          {customLegendItems.map((item, index) => (\n            <LegendItem key={index}>\n              <LegendColor style={{ backgroundColor: item.color }} />\n              <LegendText style={{ color: currentTheme.color }}>{item.text}</LegendText>\n            </LegendItem>\n          ))}\n        </LegendBox>\n      </DiagramWrapper>\n    </DiagramContainer>\n  );\n}\n\nexport default Diagram;\n","// src/utils/chartHelpers.js\n\n/**\n * Повертає опції Chart.js з урахуванням теми.\n * @param {object} options - Початкові опції діаграми.\n * @param {object} theme - Об'єкт поточної теми (містить colors).\n * @returns {object} Оновлені опції діаграми.\n */\nexport const getChartOptionsWithTheme = (options, theme) => {\n  let newOptions = {\n    ...options,\n    responsive: true,\n    maintainAspectRatio: false,\n    layout: {\n      padding: {\n        left: 5,\n        right: 40,\n        top: 10,\n        bottom: 5,\n      },\n    },\n    plugins: {\n      ...options.plugins,\n      legend: {\n        display: ![\"pie\", \"doughnut\"].includes(options.chartType),\n        labels: {\n          color: theme.colors?.color,\n          font: {\n            size: 12,\n          },\n          boxWidth: 20,\n          padding: 10,\n        },\n        position: \"right\",\n        align: \"center\",\n      },\n      tooltip: {\n        ...options.plugins?.tooltip,\n        bodyFont: {\n          size: 12,\n        },\n        titleFont: {\n          size: 14,\n        },\n      },\n    },\n    scales: {\n      ...options.scales,\n      y: {\n        ...options.scales?.y,\n        border: {\n          display: false,\n        },\n        ticks: {\n          display: false,\n          color: theme.colors?.color,\n          font: {\n            size: 10,\n          },\n        },\n        grid: {\n          display: false,\n          color: (theme.colors?.borderColor || \"#D3D3D3\") + \"80\",\n        },\n      },\n      x: {\n        ...options.scales?.x,\n        border: {\n          display: false,\n        },\n        ticks: {\n          display: false,\n          color: theme.colors?.color,\n          font: {\n            size: 10,\n          },\n        },\n        grid: {\n          display: false,\n          color: (theme.colors?.borderColor || \"#D3D3D3\") + \"80\",\n        },\n      },\n    },\n  };\n\n  // ✅ ВИПРАВЛЕННЯ: Тепер `cutout` застосовується тільки для `doughnut`\n  if (options.chartType === \"doughnut\") {\n    newOptions.cutout = options.cutout || \"70%\";\n  }\n\n  if (!newOptions.plugins) newOptions.plugins = {};\n  return newOptions;\n};\n\n/**\n * Повертає дані Chart.js з застосованими кольорами теми.\n * @param {object} data - Початкові дані діаграми.\n * @param {object} theme - Об'єкт поточної теми (містить colors).\n * @param {string} type - Тип діаграми (для коректного застосування кольорів).\n * @returns {object} Оновлені дані діаграми.\n */\nexport const getChartDataWithTheme = (data, theme, type) => {\n  if (!data || !data.datasets) return data;\n\n  if (!theme || !theme.colors) {\n    return data;\n  }\n\n  const newChartData = { ...data };\n  newChartData.datasets = newChartData.datasets.map(dataset => {\n    const newDataset = { ...dataset };\n\n    const dynamicColors = [\n      theme.colors.accentColor,\n      theme.colors.navActive,\n      theme.colors.accentBg,\n      theme.colors.color,\n      theme.colors.navBg,\n      theme.colors.background,\n      theme.colors.borderColor,\n      theme.colors.interactiveBgLight,\n      theme.colors.interactiveBorderLight,\n      theme.colors.interactiveBgYellow,\n      theme.colors.interactiveBorderYellow,\n      theme.colors.buttonBg,\n      theme.colors.successColor,\n      theme.colors.dangerColor,\n    ];\n\n    if (\n      !newDataset.backgroundColor ||\n      newDataset.backgroundColor.length === 0 ||\n      newDataset.backgroundColor === \"dynamic\"\n    ) {\n      if (type === \"pie\" || type === \"doughnut\" || type === \"polarArea\") {\n        const dataPointsCount = newDataset.data.length;\n        newDataset.backgroundColor = Array.from(\n          { length: dataPointsCount },\n          (_, i) => dynamicColors[i % dynamicColors.length]\n        );\n        newDataset.borderColor = theme.colors.borderColor;\n      } else {\n        newDataset.backgroundColor = theme.colors.accentColor + \"B3\";\n        newDataset.borderColor = theme.colors.accentColor;\n      }\n    } else if (Array.isArray(newDataset.backgroundColor)) {\n      newDataset.backgroundColor = newDataset.backgroundColor.map((color, i) =>\n        color === \"dynamic\" ? dynamicColors[i % dynamicColors.length] : color\n      );\n      if (!newDataset.borderColor) {\n        newDataset.borderColor = theme.colors.borderColor;\n      }\n    }\n\n    if (newDataset.pointBackgroundColor === \"dynamic\") {\n      newDataset.pointBackgroundColor = theme.colors.accentColor;\n    }\n    if (newDataset.pointBorderColor === \"dynamic\") {\n      newDataset.pointBorderColor = theme.colors.color;\n    }\n    if (newDataset.hoverBackgroundColor === \"dynamic\") {\n      newDataset.hoverBackgroundColor = theme.colors.hoverBg;\n    }\n    if (newDataset.hoverBorderColor === \"dynamic\") {\n      newDataset.hoverBorderColor = theme.colors.borderColor;\n    }\n    if (newDataset.fill === true) {\n      newDataset.backgroundColor = theme.colors.accentBg + \"50\";\n    }\n\n    return newDataset;\n  });\n  return newChartData;\n};\n","// src/components/InteractiveContent/ImagePlaceholder/ImagePlaceholder.styled.js\nimport styled from \"styled-components\";\n\nexport const ImageContainer = styled.div`\n  background-color: ${({ theme }) => theme.colors.background}; // ОНОВЛЕНО: Використано theme.colors\n  border: 1px solid ${({ theme }) => theme.colors.borderColor}; // ОНОВЛЕНО: Використано theme.colors\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  padding: ${({ theme }) => theme.spacing.medium}; // ОНОВЛЕНО: Використано spacing\n  margin: ${({ theme }) => theme.spacing.large} 0; // ОНОВЛЕНО: Використано spacing\n  box-shadow: ${({ theme }) => theme.shadows.small};\n  text-align: center;\n  transition: all 0.25s ease-in-out;\n\n  // Медіазапит для мобільних\n  ${({ theme }) => theme.media.down(\"sm\")`\n    padding: ${({ theme }) => theme.spacing.small};\n    margin: ${({ theme }) => theme.spacing.medium} 0;\n  `}\n\n  h4 {\n    margin-bottom: ${({ theme }) => theme.spacing.small}; // ОНОВЛЕНО: Використано spacing\n    color: ${({ theme }) => theme.colors.accentColor}; // ОНОВЛЕНО: Використано theme.colors\n    transition: color 0.25s ease-in-out;\n\n    // Медіазапит для мобільних\n    ${({ theme }) => theme.media.down(\"sm\")`\n      font-size: ${({ theme }) => theme.fontSizes.medium};\n    `}\n  }\n\n  p {\n    color: ${({ theme }) => theme.colors.color}; // ОНОВЛЕНО: Використано theme.colors\n    font-size: ${({ theme }) => theme.fontSizes.medium};\n    margin-bottom: ${({ theme }) => theme.spacing.medium}; // ОНОВЛЕНО: Використано spacing\n    transition: color 0.25s ease-in-out, font-size 0.25s ease-in-out;\n\n    // Медіазапит для мобільних\n    ${({ theme }) => theme.media.down(\"sm\")`\n      font-size: ${({ theme }) => theme.fontSizes.small};\n      margin-bottom: ${({ theme }) => theme.spacing.small};\n    `}\n  }\n`;\n\nexport const StyledImage = styled.img`\n  max-width: 100%;\n  height: auto;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  margin-bottom: ${({ theme }) => theme.spacing.small}; // ОНОВЛЕНО: Використано spacing\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  transition: border-radius 0.25s ease-in-out;\n`;\n\nexport const ImageCaption = styled.p`\n  font-style: italic;\n  font-size: ${({ theme }) => theme.fontSizes.small};\n  color: ${({ theme }) => theme.colors.color}; // ОНОВЛЕНО: Використано theme.colors\n  margin-top: ${({ theme }) => theme.spacing.xsmall}; // ОНОВЛЕНО: Використано spacing\n  transition: color 0.25s ease-in-out, font-size 0.25s ease-in-out;\n`;\n","// src/components/InteractiveContent/ImagePlaceholder/ImagePlaceholder.jsx\nimport React from \"react\";\nimport { ImageContainer, StyledImage, ImageCaption } from \"./ImagePlaceholder.styled\";\n\nfunction ImagePlaceholder({ imageUrl, caption, altText }) {\n  return (\n    <ImageContainer>\n      {imageUrl ? (\n        <StyledImage src={imageUrl} alt={altText || \"Зображення\"} />\n      ) : (\n        <p>Зображення відсутнє.</p>\n      )}\n      {caption && <ImageCaption>{caption}</ImageCaption>}\n    </ImageContainer>\n  );\n}\n\nexport default ImagePlaceholder;\n","import styled from \"styled-components\";\n\nexport const StyledRevealCard = styled.div`\n  background-color: ${({ theme }) => theme.colors.background};\n  border: 1px solid ${({ theme }) => theme.colors.borderColor};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  box-shadow: ${({ theme }) => theme.shadows.small};\n  overflow: hidden;\n  transition: box-shadow 0.2s ease-in-out, background-color 0.25s ease-in-out,\n    border-color 0.25s ease-in-out;\n\n  &:hover {\n    box-shadow: ${({ theme }) => theme.shadows.medium};\n  }\n`;\n\nexport const CardTitle = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: ${({ theme }) => theme.spacing.small} ${({ theme }) => theme.spacing.medium};\n  background-color: ${({ theme }) => theme.colors.accentBg};\n  color: ${({ theme }) => theme.colors.buttonColor};\n  font-weight: bold;\n  font-size: ${({ theme }) => theme.fontSizes.large};\n  cursor: pointer;\n  transition: background-color 0.25s ease-in-out, color 0.25s ease-in-out;\n  &:hover {\n    background-color: ${({ theme }) => theme.colors.accentBgHover || theme.colors.accentBg};\n  }\n\n  span:first-child {\n    margin-right: ${({ theme }) => theme.spacing.xsmall};\n    font-size: ${({ theme }) => theme.fontSizes.xlarge};\n  }\n\n  a {\n    color: ${({ theme }) => theme.colors.buttonColor};\n    text-decoration: none;\n    transition: color 0.25s ease-in-out;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    padding: ${({ theme }) => theme.spacing.xsmall} ${({ theme }) => theme.spacing.small};\n    font-size: ${({ theme }) => theme.fontSizes.medium};\n  `}\n`;\n\nexport const CardContent = styled.div`\n  padding: ${({ theme }) => theme.spacing.medium};\n  font-size: ${({ theme }) => theme.fontSizes.medium};\n  color: ${({ theme }) => theme.colors.color};\n  line-height: 1.6;\n  transition: color 0.25s ease-in-out;\n\n  p {\n    margin-bottom: 1em;\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  a {\n    color: ${({ theme }) => theme.colors.accentColor};\n    text-decoration: none;\n    transition: color 0.25s ease-in-out;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .bible-quote {\n    font-style: italic;\n    color: ${({ theme }) => theme.colors.colorSecondary};\n    padding-left: ${({ theme }) => theme.spacing.small};\n    border-left: 2px solid ${({ theme }) => theme.colors.borderColor};\n    transition: color 0.25s ease-in-out, border-color 0.25s ease-in-out;\n  }\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    padding: ${({ theme }) => theme.spacing.small};\n    font-size: ${({ theme }) => theme.fontSizes.small};\n  `}\n`;\n\n// =================================== НОВИЙ КОД ===================================\n// Додано плавні переходи для нового компонента HighlightBox\nexport const HighlightBoxContainer = styled.div`\n  background-color: ${({ theme }) => theme.colors.interactiveBgLight};\n  border-left: 5px solid ${({ theme }) => theme.colors.interactiveBorderLight};\n  padding: ${({ theme }) => theme.spacing.medium};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  display: flex;\n  align-items: flex-start;\n  box-shadow: ${({ theme }) => theme.shadows.small};\n  transition: background-color 0.25s ease-in-out, border-color 0.25s ease-in-out,\n    box-shadow 0.25s ease-in-out; // ДОДАНО: Переходи для фону, межі та тіні\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    padding: ${({ theme }) => theme.spacing.small};\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n  `}\n`;\n\nexport const HighlightBoxEmoji = styled.span`\n  font-size: ${({ theme }) => theme.fontSizes.xxlarge};\n  margin-right: ${({ theme }) => theme.spacing.medium};\n  line-height: 1;\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    margin-right: 0;\n    margin-bottom: ${({ theme }) => theme.spacing.xsmall};\n  `}\n`;\n\nexport const HighlightBoxContent = styled.div`\n  flex-grow: 1;\n`;\n\nexport const HighlightBoxTitle = styled.h4`\n  color: ${({ theme }) => theme.colors.accentColor};\n  font-size: ${({ theme }) => theme.fontSizes.large};\n  margin-top: 0;\n  margin-bottom: ${({ theme }) => theme.spacing.xsmall};\n  font-weight: bold;\n  transition: color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору заголовка\n`;\n","// src/components/InteractiveContent/HighlightBox/HighlightBox.js\nimport React from \"react\";\nimport {\n  HighlightBoxContainer,\n  HighlightBoxContent,\n  HighlightBoxTitle,\n  HighlightBoxEmoji,\n} from \"./HighlightBox.styled\";\nimport TokenRenderer from \"../../TokenRenderer/TokenRenderer\";\n\nconst HighlightBox = ({ title, content, emoji }) => {\n  return (\n    <HighlightBoxContainer>\n      {emoji && <HighlightBoxEmoji>{emoji}</HighlightBoxEmoji>}\n      <HighlightBoxContent>\n        {/* ✅ ВИПРАВЛЕННЯ: Тепер title обробляється TokenRenderer */}\n        {title && (\n          <HighlightBoxTitle>\n            <TokenRenderer tokens={title} />\n          </HighlightBoxTitle>\n        )}\n\n        {/* ✅ ДОДАТКОВО: Тепер content також обробляється TokenRenderer */}\n        {content && (\n          <p>\n            <TokenRenderer tokens={content} />\n          </p>\n        )}\n      </HighlightBoxContent>\n    </HighlightBoxContainer>\n  );\n};\n\nexport default HighlightBox;\n","import styled from \"styled-components\";\n\nexport const QuestionPromptContainer = styled.div`\n  background-color: ${({ theme }) => theme.colors.interactiveBgYellow};\n  border: 1px solid ${({ theme }) => theme.colors.interactiveBorderYellow};\n  padding: ${({ theme }) => theme.spacing.medium};\n  margin: ${({ theme }) => theme.spacing.large} 0;\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  box-shadow: ${({ theme }) => theme.shadows.small};\n  transition: background-color 0.25s ease-in-out, border-color 0.25s ease-in-out; // ДОДАНО: Перехід для фону та рамки\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    padding: ${({ theme }) => theme.spacing.small};\n    margin: ${({ theme }) => theme.spacing.medium} 0;\n  `}\n`;\n\nexport const QuestionEmoji = styled.span`\n  font-size: ${({ theme }) => theme.fontSizes.xxlarge};\n  margin-bottom: ${({ theme }) => theme.spacing.small};\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    font-size: ${({ theme }) => theme.fontSizes.xlarge};\n  `}\n`;\n\nexport const QuestionText = styled.p`\n  font-size: ${({ theme }) => theme.fontSizes.large};\n  font-weight: bold;\n  color: ${({ theme }) => theme.colors.color};\n  margin-bottom: ${({ theme }) => theme.spacing.small};\n  transition: color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору тексту\n  ${({ theme }) => theme.media.down(\"sm\")`\n    font-size: ${({ theme }) => theme.fontSizes.medium};\n  `}\n`;\n\nexport const ToggleAnswerButton = styled.button`\n  background-color: ${({ theme }) => theme.colors.buttonBg};\n  color: ${({ theme }) => theme.colors.buttonColor};\n  border: none;\n  padding: ${({ theme }) => theme.spacing.xsmall} ${({ theme }) => theme.spacing.medium};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  cursor: pointer;\n  font-size: ${({ theme }) => theme.fontSizes.medium};\n  font-weight: bold;\n  transition: background-color 0.25s ease-in-out, color 0.25s ease-in-out; // ОНОВЛЕНО: Перехід для фону та тексту\n\n  &:hover {\n    background: ${({ theme }) => theme.colors.hoverBtn}; // ОНОВЛЕНО\n    transition: background 0.25s ease-in-out;\n  }\n`;\n\nexport const AnswerText = styled.div`\n  background-color: ${({ theme }) => theme.colors.background};\n  border-left: 3px solid ${({ theme }) => theme.colors.successColor};\n  padding: ${({ theme }) => theme.spacing.small};\n  margin-top: ${({ theme }) => theme.spacing.medium};\n  font-style: italic;\n  color: ${({ theme }) => theme.colors.color};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  width: 100%;\n  transition: background-color 0.25s ease-in-out, border-color 0.25s ease-in-out,\n    color 0.25s ease-in-out; // ДОДАНО: Перехід для фону, рамки та тексту\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    padding: ${({ theme }) => theme.spacing.xsmall};\n  `}\n`;\n","import React, { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\"; // Імпортуємо motion та AnimatePresence\nimport {\n  QuestionPromptContainer,\n  QuestionText,\n  ToggleAnswerButton,\n  AnswerText,\n  QuestionEmoji,\n} from \"./QuestionPrompt.styled\";\n\nconst QuestionPrompt = ({ question, answer, emoji }) => {\n  const [showAnswer, setShowAnswer] = useState(false);\n\n  const handleToggleAnswer = () => {\n    setShowAnswer(!showAnswer);\n  };\n\n  return (\n    <QuestionPromptContainer>\n      <QuestionEmoji>{emoji || \"❓\"}</QuestionEmoji>\n      <QuestionText>{question}</QuestionText>\n      {answer && (\n        <ToggleAnswerButton onClick={handleToggleAnswer}>\n          {showAnswer ? \"Сховати відповідь\" : \"Показати відповідь\"}\n        </ToggleAnswerButton>\n      )}\n      {/* Використовуємо AnimatePresence для входу/виходу анімації */}\n      <AnimatePresence>\n        {showAnswer && answer && (\n          <motion.div\n            // Початковий стан: висота 0, прозорість 0\n            initial={{ height: 0, opacity: 0, overflow: \"hidden\" }}\n            // Кінцевий стан: автоматична висота, прозорість 1\n            animate={{ height: \"auto\", opacity: 1 }}\n            // Стан виходу: висота 0, прозорість 0\n            exit={{ height: 0, opacity: 0 }}\n            // Параметри переходу для жвавості\n            transition={{\n              duration: 0.25, // Тривалість анімації\n              ease: [0.4, 0, 0.2, 1], // Крива Безьє для \"жвавого\" відчуття (ease-in-out-cubic)\n            }}\n          >\n            <AnswerText>{answer}</AnswerText>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </QuestionPromptContainer>\n  );\n};\n\nexport default QuestionPrompt;\n","import styled from \"styled-components\";\n\nexport const ListContainer = styled.div`\n  margin-top: ${({ theme }) => theme.spacing.large};\n  margin-bottom: ${({ theme }) => theme.spacing.large};\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0 ${({ theme }) => theme.spacing.small};\n\n  ${({ theme }) => theme.media.up(\"md\")`\n    padding: 0;\n  `}\n`;\n\nexport const Title = styled.h2`\n  color: ${({ theme }) => theme.colors.accentColor};\n  font-size: ${({ theme }) => theme.fontSizes.xlarge};\n  padding: 0;\n  margin-top: ${({ theme }) => theme.spacing.large};\n  margin-bottom: ${({ theme }) => theme.spacing.large};\n  font-weight: bold;\n  line-height: 1.3;\n  transition: color 0.25s ease-in-out;\n\n  ${({ theme }) => theme.media.down(\"md\")`\n    font-size: ${({ theme }) => theme.fontSizes.large};\n    margin-bottom: ${({ theme }) => theme.spacing.xxsmall};\n  `}\n`;\n\nexport const CardsGrid = styled.div`\n  display: grid;\n  // ОНОВЛЕНО: Використовуємо auto-fit для автоматичного перенесення карток\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: ${({ theme }) => theme.spacing.large};\n  justify-content: center;\n  align-items: stretch;\n\n  ${({ theme }) => theme.media.down(\"xl\")`\n    gap: ${({ theme }) => theme.spacing.medium};\n  `}\n\n  ${({ theme }) => theme.media.down(\"md\")`\n    gap: ${({ theme }) => theme.spacing.small};\n  `}\n`;\n\nexport const CardWrapper = styled.article`\n  background: ${({ theme }) => theme.colors.cardBackground || theme.colors.background};\n  border-radius: ${({ theme }) => theme.borderRadius.large};\n  padding: ${({ theme }) => theme.spacing.small};\n  box-shadow: ${({ theme }) => theme.shadows.small};\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  transition: transform 0.25s ease, background-color 0.25s ease-in-out, box-shadow 0.25s ease,\n    border-color 0.25s ease-in-out;\n  overflow: hidden;\n  position: relative;\n  border: 1px solid ${({ theme }) => theme.colors.cardBorder || theme.colors.borderColor};\n  will-change: transform, box-shadow, height;\n  outline: none;\n\n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: ${({ theme }) => theme.shadows.medium};\n    border-color: ${({ theme }) => theme.colors.primaryColor};\n  }\n\n  &:focus-within {\n    box-shadow: ${({ theme }) => theme.shadows.medium};\n    transform: translateY(-5px);\n  }\n\n  &[tabindex=\"0\"]:focus-visible {\n    box-shadow: ${({ theme }) => theme.shadows.medium};\n    transform: translateY(-5px);\n  }\n`;\n\nexport const CardHeader = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: ${({ theme }) => theme.spacing.xsmall};\n`;\n\nexport const Emoji = styled.span`\n  font-size: ${({ theme }) => theme.fontSizes.xxlarge};\n  margin-right: ${({ theme }) => theme.spacing.xsmall};\n  line-height: 1;\n  filter: grayscale(10%);\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);\n`;\n\nexport const CardTitle = styled.h3`\n  font-size: ${({ theme }) => theme.fontSizes.large};\n  color: ${({ theme }) => theme.colors.color};\n  margin: 0;\n  line-height: 1.3;\n  transition: color 0.25s ease-in-out;\n`;\n\nexport const CardContentWrapper = styled.div`\n  font-size: ${({ theme }) => theme.fontSizes.medium};\n  line-height: 1.6;\n  color: ${({ theme }) => theme.colors.color};\n  flex: 1;\n  position: relative;\n  width: 100%;\n  transition: color 0.25s ease-in-out;\n\n  padding-bottom: ${({ isExpanded }) => (isExpanded ? \"5.5rem\" : \"0\")};\n\n  p {\n    margin-bottom: 1em;\n  }\n\n  p:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nexport const ButtonWrapper = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: ${({ theme }) => theme.colors.cardBackground || theme.colors.background};\n  border-bottom-left-radius: ${({ theme }) => theme.borderRadius.large};\n  border-bottom-right-radius: ${({ theme }) => theme.borderRadius.large};\n  display: flex;\n  justify-content: flex-start;\n  padding: ${({ theme }) => theme.spacing.xsmall} ${({ theme }) => theme.spacing.small};\n  box-sizing: border-box;\n  transition: background-color 0.25s ease-in-out;\n\n  &::before {\n    content: \"\";\n    position: absolute;\n    top: -3rem;\n    left: 0;\n    width: 100%;\n    height: 3rem;\n    background: linear-gradient(\n      to bottom,\n      rgba(\n          ${({ theme }) => {\n            const bg = theme.colors.cardBackground || theme.colors.background;\n            const hexToRgb = hex =>\n              hex\n                .replace(\n                  /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,\n                  (m, r, g, b) => \"#\" + r + r + g + g + b + b\n                )\n                .substring(1)\n                .match(/.{2}/g)\n                .map(x => parseInt(x, 16));\n            const rgb = hexToRgb(bg);\n            return rgb ? rgb.join(\",\") : \"255,255,255\";\n          }},\n          0\n        )\n        0%,\n      rgba(\n          ${({ theme }) => {\n            const bg = theme.colors.cardBackground || theme.colors.background;\n            const hexToRgb = hex =>\n              hex\n                .replace(\n                  /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,\n                  (m, r, g, b) => \"#\" + r + r + g + g + b + b\n                )\n                .substring(1)\n                .match(/.{2}/g)\n                .map(x => parseInt(x, 16));\n            const rgb = hexToRgb(bg);\n            return rgb ? rgb.join(\",\") : \"255,255,255\";\n          }},\n          0.9\n        )\n        100%\n    );\n    pointer-events: none;\n  }\n`;\n\nexport const ReadMoreButton = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors.buttonBg};\n  font-size: ${({ theme }) => theme.fontSizes.medium};\n  font-weight: 700;\n  cursor: pointer;\n  padding: ${({ theme }) => theme.spacing.xsmall} 0;\n  align-self: flex-start;\n  transition: color 0.25s ease-in-out, transform 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: ${({ theme }) => theme.spacing.xsmall};\n  z-index: 1;\n\n  &:hover {\n    border: none;\n    box-shadow: none;\n    color: ${({ theme }) => theme.colors.hoverBtn};\n    transform: ${({ isExpanded }) => (isExpanded ? \"translateY(-2px)\" : \"translateY(2px)\")};\n  }\n`;\n","// src/components/InteractiveContent/ListCards/ListCards.js\nimport React, { useReducer, useCallback, useRef, useEffect, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport {\n  ListContainer,\n  Title,\n  CardsGrid,\n  CardWrapper,\n  CardHeader,\n  Emoji,\n  CardTitle,\n  CardContentWrapper,\n  ReadMoreButton,\n  ButtonWrapper,\n} from \"./ListCards.styled\";\nimport TokenRenderer from \"../../TokenRenderer/TokenRenderer\"; // 👈 Імпортуємо TokenRenderer\n\n// Reducer для управління станом активного рядка\nconst expansionReducer = (state, action) => {\n  switch (action.type) {\n    case \"ACTIVATE_ROW\":\n      return action.payload.rowIndex;\n    case \"DEACTIVATE_ROW\":\n      return null;\n    default:\n      return state;\n  }\n};\n\nconst PREVIEW_HEIGHT = 160;\n\nconst Card = React.memo(\n  ({ card, index, isExpanded, toggleExpand, collapseCard, handleRowBlur }) => {\n    const contentRef = useRef(null);\n    const [isOverflowing, setIsOverflowing] = useState(false);\n    const [contentFullHeight, setContentFullHeight] = useState(PREVIEW_HEIGHT);\n\n    useEffect(() => {\n      const checkOverflow = () => {\n        if (contentRef.current) {\n          const { scrollHeight } = contentRef.current;\n          setIsOverflowing(scrollHeight > PREVIEW_HEIGHT);\n          if (scrollHeight > PREVIEW_HEIGHT) {\n            setContentFullHeight(scrollHeight);\n          } else {\n            setContentFullHeight(PREVIEW_HEIGHT);\n          }\n        }\n      };\n\n      checkOverflow();\n      window.addEventListener(\"resize\", checkOverflow);\n      const timeoutId = setTimeout(checkOverflow, 150);\n\n      return () => {\n        window.removeEventListener(\"resize\", checkOverflow);\n        clearTimeout(timeoutId);\n      };\n    }, [card.content]);\n\n    useEffect(() => {\n      if (isExpanded && contentRef.current) {\n        setContentFullHeight(contentRef.current.scrollHeight);\n      } else if (!isExpanded) {\n        setContentFullHeight(PREVIEW_HEIGHT);\n      }\n    }, [isExpanded]);\n\n    return (\n      <CardWrapper\n        onBlur={handleRowBlur}\n        tabIndex={isOverflowing ? 0 : -1}\n        aria-expanded={isExpanded}\n      >\n        <CardHeader>\n          <Emoji role=\"img\" aria-label={`Emoji for ${card.title}`}>\n            {card.emoji}\n          </Emoji>\n          {/* ✅ ВИПРАВЛЕННЯ: Використовуємо TokenRenderer для заголовка */}\n          <CardTitle>\n            <TokenRenderer tokens={card.title} />\n          </CardTitle>\n        </CardHeader>\n\n        <motion.div\n          layout\n          initial={{ height: PREVIEW_HEIGHT }}\n          animate={{\n            height: isExpanded ? contentFullHeight : PREVIEW_HEIGHT,\n            opacity: 1,\n          }}\n          transition={{\n            duration: 0.25,\n            ease: [0.4, 0, 0.2, 1],\n          }}\n          style={{ overflow: \"hidden\", width: \"100%\" }}\n        >\n          <CardContentWrapper ref={contentRef} isExpanded={isExpanded} id={`card-content-${index}`}>\n            {/* ✅ ВИПРАВЛЕННЯ: Використовуємо TokenRenderer для контенту */}\n            <TokenRenderer tokens={card.content} />\n          </CardContentWrapper>\n        </motion.div>\n\n        {isOverflowing && (\n          <ButtonWrapper isExpanded={isExpanded}>\n            <ReadMoreButton\n              onClick={e => {\n                e.stopPropagation();\n                toggleExpand(index);\n              }}\n              aria-controls={`card-content-${index}`}\n              tabIndex={0}\n              isExpanded={isExpanded}\n            >\n              {isExpanded ? <>Згорнути</> : <>Читати далі</>}\n            </ReadMoreButton>\n          </ButtonWrapper>\n        )}\n      </CardWrapper>\n    );\n  }\n);\n\nconst ListCards = ({ title, cards }) => {\n  // activeRowIndex зберігатиме індекс активного ряду (або null)\n  const [activeRowIndex, dispatch] = useReducer(expansionReducer, null);\n  const [columnCount, setColumnCount] = useState(3); // За замовчуванням 3 колонки\n  const gridRef = useRef(null); // Реф для CardsGrid\n\n  // Функція для визначення кількості колонок\n  const getColumnCount = useCallback(() => {\n    // Визначення кількості колонок на основі ширини вікна\n    if (window.innerWidth <= 768) {\n      return 1;\n    } else if (window.innerWidth <= 1200) {\n      return 2;\n    } else {\n      return 3;\n    }\n  }, []);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setColumnCount(getColumnCount());\n      // При зміні кількості колонок скидаємо активний ряд\n      dispatch({ type: \"DEACTIVATE_ROW\" });\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    // Встановлюємо початкове значення при монтуванні\n    setColumnCount(getColumnCount());\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [getColumnCount]);\n\n  // Ця функція активує ряд\n  const toggleExpand = useCallback(\n    index => {\n      const clickedRowIndex = Math.floor(index / columnCount);\n      // Якщо клікнуто на картку вже активного ряду, то закриваємо весь ряд\n      if (activeRowIndex === clickedRowIndex) {\n        dispatch({ type: \"DEACTIVATE_ROW\" });\n      } else {\n        // Інакше активуємо новий ряд\n        dispatch({ type: \"ACTIVATE_ROW\", payload: { rowIndex: clickedRowIndex } });\n      }\n    },\n    [activeRowIndex, columnCount]\n  );\n\n  // Функція для обробки втрати фокусу з ряду карток\n  const handleRowBlur = useCallback(e => {\n    // Перевіряємо, чи новий фокус НЕ знаходиться всередині gridRef\n    // (тобто, фокус перемістився за межі сітки карток)\n    if (gridRef.current && !gridRef.current.contains(e.relatedTarget)) {\n      dispatch({ type: \"DEACTIVATE_ROW\" });\n    }\n  }, []);\n\n  const collapseCard = useCallback(index => {\n    // Ця функція більше не використовується безпосередньо, але залишаємо для повноти\n    // Якщо потрібно буде закрити окрему картку, її можна використовувати\n    dispatch({ type: \"DEACTIVATE_ROW\" }); // Закриває весь ряд, якщо фокус втрачено\n  }, []);\n\n  return (\n    <ListContainer>\n      {/* ✅ ВИПРАВЛЕННЯ: Використовуємо TokenRenderer для заголовка ListCards */}\n      {title && (\n        <Title>\n          <TokenRenderer tokens={title} />\n        </Title>\n      )}\n      <CardsGrid ref={gridRef}>\n        {\" \"}\n        {/* Призначаємо реф для відстеження фокусу */}\n        {cards.map((card, index) => {\n          const cardRowIndex = Math.floor(index / columnCount);\n          // isExpanded тепер залежить від того, чи є її ряд активним\n          const isCardExpanded = activeRowIndex === cardRowIndex;\n\n          return (\n            <Card\n              key={index}\n              card={card}\n              index={index}\n              isExpanded={isCardExpanded} // Передаємо новий стан розширення\n              toggleExpand={toggleExpand}\n              collapseCard={collapseCard} // Можна прибрати, якщо не використовується\n              handleRowBlur={handleRowBlur} // Передаємо обробник blur\n            />\n          );\n        })}\n      </CardsGrid>\n    </ListContainer>\n  );\n};\n\nexport default ListCards;\n","// src/components/InteractiveContent/List/List.styled.js\nimport styled from \"styled-components\";\n\nexport const StyledList = styled.ul`\n  padding-left: ${({ theme }) => theme.spacing.medium};\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    padding-left: ${({ theme }) => theme.spacing.large};\n  `}\n`;\n\nexport const StyledListItem = styled.li`\n  font-size: ${({ theme }) => theme.fontSizes.medium};\n  color: ${({ theme }) => theme.colors.color};\n  line-height: 1.5;\n  margin-bottom: ${({ theme }) => theme.spacing.xxsmall};\n`;\n\n// Контейнер для іконки та тексту\nexport const ListItemContent = styled.div`\n  display: flex;\n  // ✅ Змінюємо вирівнювання на baseline\n  align-items: baseline;\n  width: 100%;\n`;\n\nexport const BulletIcon = styled.span`\n  margin-right: ${({ theme }) => theme.spacing.xsmall};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${({ theme }) => theme.colors.accentColor};\n  font-size: 0.5em;\n\n  // ✅ Повертаємо transform, щоб точно підігнати позицію іконки до тексту\n  transform: translateY(-0.1em);\n`;\n\n// ✅ Новий глобальний стиль для елементів всередині `ListItemContent`\nexport const ListText = styled.div``;\n","// src/components/InteractiveContent/List/List.js\nimport React from \"react\";\nimport TokenRenderer from \"../../TokenRenderer/TokenRenderer\";\nimport SectionHeading from \"../../Common/SectionHeading/SectionHeading\";\nimport { StyledList, StyledListItem, BulletIcon, ListItemContent, ListText } from \"./List.styled\"; // Додано ListText\nimport { FaCircle } from \"react-icons/fa\";\n\nconst List = ({ title, items, heading }) => {\n  return (\n    <>\n      {(title || heading) && (\n        <SectionHeading as={heading ? \"h4\" : \"h3\"} size={heading ? \"medium\" : \"default\"}>\n          {title && <TokenRenderer tokens={title} />}\n          {heading && (\n            <span style={{ display: \"block\" }}>\n              <TokenRenderer tokens={heading} />\n            </span>\n          )}\n        </SectionHeading>\n      )}\n\n      <StyledList>\n        {items.map((item, index) => (\n          <StyledListItem key={index}>\n            <ListItemContent>\n              <BulletIcon>\n                <FaCircle />\n              </BulletIcon>\n              <ListText>\n                {\" \"}\n                {/* ✅ Новий контейнер для тексту */}\n                <TokenRenderer tokens={item} />\n              </ListText>\n            </ListItemContent>\n          </StyledListItem>\n        ))}\n      </StyledList>\n    </>\n  );\n};\n\nexport default List;\n","import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\n\nexport const TimelineContainer = styled.div`\n  margin: ${({ theme }) => theme.spacing.xlarge} 0;\n  position: relative;\n  padding-left: 30px;\n  padding-right: ${({ theme }) => theme.spacing.small};\n  overflow-x: hidden;\n  padding-bottom: 0;\n\n  &::before {\n    content: \"\";\n    position: absolute;\n    left: 12px;\n    top: 0;\n    bottom: 0;\n    width: 2px;\n    background-color: ${({ theme }) => theme.colors.borderColor};\n    z-index: 0;\n    transition: background-color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору лінії\n  }\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    padding-left: 20px;\n    padding-right: ${({ theme }) => theme.spacing.xxsmall};\n    \n    &::before {\n      left: 9px;\n    }\n  `}\n`;\n\nexport const HorizontalLine = styled.div`\n  display: none;\n`;\n\nexport const TimelineEventWrapper = styled(motion.div)`\n  position: relative;\n  margin-bottom: ${({ theme }) => theme.spacing.xlarge};\n  padding-left: 30px;\n  text-align: left;\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    padding-left: 20px;\n    margin-bottom: ${({ theme }) => theme.spacing.large};\n  `}\n`;\n\nexport const EventDot = styled(motion.div)`\n  position: absolute;\n  left: 0;\n  top: 5px;\n  width: 12px;\n  height: 12px;\n  background-color: ${({ theme }) => theme.colors.accentColor};\n  border-radius: 50%;\n  border: 2px solid ${({ theme }) => theme.colors.background};\n  z-index: 1;\n  transform-origin: center;\n  transition: background-color 0.25s ease-in-out, border-color 0.25s ease-in-out; // ДОДАНО: Перехід для кольорів точки\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    width: 10px;\n    height: 10px;\n    border: 1px solid ${({ theme }) => theme.colors.background};\n  `}\n`;\n\nexport const EventContent = styled(motion.div)`\n  background-color: ${({ theme }) => theme.colors.cardBackground};\n  padding: ${({ theme }) => theme.spacing.small};\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  box-shadow: ${({ theme }) => theme.shadows.small};\n  border: 1px solid ${({ theme }) => theme.colors.borderColor};\n  min-height: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: relative;\n  cursor: pointer;\n  transition: background-color 0.25s ease-in-out, border-color 0.25s ease-in-out; // ДОДАНО: Перехід для фону і рамки\n`;\n\nexport const EventTitle = styled.h4`\n  color: ${({ theme }) => theme.colors.accentColor};\n  font-size: ${({ theme }) => theme.fontSizes.large};\n  margin: 0;\n  font-weight: bold;\n  line-height: 1.3;\n  transition: color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору\n\n  display: flex;\n\n  // ✅ ВИПРАВЛЕННЯ: Змінюємо flex-direction на row\n  & > div:first-of-type {\n    flex-wrap: wrap; // Додаємо, щоб текст переносився на новий рядок, якщо не вміщається\n    flex-grow: 1;\n    margin-right: 10px;\n  }\n\n  & > span {\n    flex-shrink: 0;\n    line-height: 1.3;\n    font-size: ${({ theme }) => theme.fontSizes.large};\n    color: ${({ theme }) => theme.colors.colorSecondary};\n    transition: color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору іконки\n  }\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    font-size: ${({ theme }) => theme.fontSizes.medium};\n    \n    & > div:first-of-type {\n        margin-right: 8px;\n    }\n    \n    & > span {\n        font-size: ${({ theme }) => theme.fontSizes.medium};\n    }\n  `}\n`;\n\nexport const EventYear = styled.span`\n  font-size: ${({ theme }) => theme.fontSizes.small};\n  color: ${({ theme }) => theme.colors.colorSecondary};\n  margin-bottom: ${({ theme }) => theme.spacing.xxsmall};\n  margin-right: ${({ theme }) => theme.spacing.xxsmall};\n  white-space: nowrap;\n  font-weight: normal;\n  transition: color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    font-size: ${({ theme }) => theme.fontSizes.xsmall};\n  `}\n`;\n\nexport const EventDescription = styled.p`\n  font-size: ${({ theme }) => theme.fontSizes.medium};\n  color: ${({ theme }) => theme.colors.color};\n  line-height: 1.5;\n  margin-bottom: 0;\n  word-wrap: break-word;\n  transition: color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    font-size: ${({ theme }) => theme.fontSizes.small};\n  `}\n`;\n\nexport const EventVersesContainer = styled.div`\n  padding-top: ${({ theme }) => theme.spacing.xxsmall};\n  border-top: 1px solid ${({ theme }) => theme.colors.dividerColor};\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  cursor: default;\n  transition: border-top-color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору рамки\n\n  ${({ theme }) => theme.media.down(\"sm\")`\n    gap: 6px;\n    margin-top: ${({ theme }) => theme.spacing.xsmall};\n    padding-top: ${({ theme }) => theme.spacing.xxsmall};\n  `}\n`;\n","import React from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport styled from \"styled-components\";\n\nconst StyledCollapsibleContent = styled(motion.div)`\n  overflow: hidden;\n`;\n\n// Новий стилізований компонент для внутрішнього вмісту\nconst InnerContentWrapper = styled(motion.div)`\n  padding-top: 0.8rem; /* Перемістили padding-top сюди */\n  /* Зміни в opacity можна застосовувати тут, якщо потрібно */\n`;\n\nconst CollapsibleContent = ({ isOpen, children, ...props }) => {\n  return (\n    <AnimatePresence initial={false}>\n      {isOpen && (\n        <StyledCollapsibleContent\n          initial=\"collapsed\"\n          animate=\"open\"\n          exit=\"collapsed\"\n          variants={{\n            open: { height: \"auto\", opacity: 1 },\n            collapsed: { height: 0, opacity: 0 },\n          }}\n          transition={{\n            duration: 0.25,\n            ease: [0.4, 0, 0.2, 1], // Стандартна крива\n            // type: \"spring\", stiffness: 400, damping: 30  // Можете повернути, якщо звичайний ease не допоможе\n          }}\n          layout // Залишаємо layout для плавних змін розміру\n          {...props}\n        >\n          {/* ✅ Нова обгортка для внутрішнього вмісту */}\n          <InnerContentWrapper\n            // Ці анімації для opacity краще залишити на InnerContentWrapper,\n            // щоб вони анімувалися паралельно з height, але не впливали на layout\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.2, delay: 0.1 }} // Невеликий delay, щоб з'явився після початку розкриття\n          >\n            {children}\n          </InnerContentWrapper>\n        </StyledCollapsibleContent>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default CollapsibleContent;\n","// src/components/SpecificContentDisplays/Timeline/Timeline.jsx\n\nimport React, { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { useTheme } from \"../../../contexts/ThemeProvider\";\nimport {\n  TimelineContainer,\n  TimelineEventWrapper,\n  EventDot,\n  EventContent,\n  EventTitle,\n  EventYear,\n  EventVersesContainer,\n} from \"./Timeline.styled\";\nimport SectionHeading from \"../../Common/SectionHeading/SectionHeading\";\nimport CollapsibleContent from \"../../Common/CollapsibleContent/CollapsibleContent\";\nimport TokenRenderer from \"../../TokenRenderer/TokenRenderer\"; // 👈 Імпортуємо TokenRenderer\n\nconst Timeline = ({ title, events }) => {\n  const { currentTheme } = useTheme();\n  const [activeEventId, setActiveEventId] = useState(null);\n\n  const handleToggle = index => {\n    const newActiveEventId = activeEventId === index ? null : index;\n    setActiveEventId(newActiveEventId);\n  };\n\n  const handleVerseClick = e => {\n    e.stopPropagation();\n  };\n\n  return (\n    <TimelineContainer>\n      {title && (\n        <SectionHeading as=\"h3\" size=\"default\">\n          {/* ✅ ВИПРАВЛЕННЯ: Використовуємо TokenRenderer для заголовка Timeline */}\n          <TokenRenderer tokens={title} />\n        </SectionHeading>\n      )}\n\n      {events.map((event, index) => (\n        <TimelineEventWrapper key={index}>\n          <EventDot\n            animate={\n              activeEventId === index\n                ? { scale: [1, 1.2, 1], backgroundColor: currentTheme.accentColor }\n                : { scale: 1, backgroundColor: currentTheme.accentColor }\n            }\n            transition={{\n              duration: 0.5,\n              repeat: activeEventId === index ? Infinity : 0,\n              repeatType: \"loop\",\n            }}\n          />\n          <EventContent\n            onClick={() => handleToggle(index)}\n            whileHover={{\n              scale: 1.03,\n            }}\n            transition={{\n              scale: { duration: 0.15, ease: \"easeOut\" },\n              backgroundColor: { duration: 0.2, ease: \"easeOut\" },\n            }}\n            animate={{\n              scale: activeEventId === index ? 1.03 : 1,\n              backgroundColor:\n                activeEventId === index ? currentTheme.hoverBg : currentTheme.cardBackground,\n            }}\n          >\n            <EventTitle style={{ cursor: \"pointer\" }}>\n              <div>\n                {event.year && <EventYear>{event.year}</EventYear>}\n                {/* ✅ ВИПРАВЛЕННЯ: Використовуємо TokenRenderer для заголовка події */}\n                <TokenRenderer tokens={event.title} />\n              </div>\n              <motion.span\n                initial={false}\n                animate={{ rotate: activeEventId === index ? 90 : 0 }}\n                transition={{ duration: 0.2 }}\n                style={{ marginLeft: \"10px\", display: \"inline-block\" }}\n              >\n                ▶\n              </motion.span>\n            </EventTitle>\n\n            <CollapsibleContent isOpen={activeEventId === index}>\n              {event.description && (\n                <div style={{ padding: \"0 10px\", fontSize: \"0.9em\" }}>\n                  {/* ✅ ВИПРАВЛЕННЯ: Рендеримо кожен елемент масиву description окремо */}\n                  {Array.isArray(event.description) ? (\n                    event.description.map((descItem, i) => (\n                      <TokenRenderer key={i} tokens={descItem} />\n                    ))\n                  ) : (\n                    <TokenRenderer tokens={event.description} />\n                  )}\n                </div>\n              )}\n\n              {event.verses && event.verses.length > 0 && (\n                <EventVersesContainer onClick={handleVerseClick}>\n                  {event.verses.map((verse, i) => (\n                    <TokenRenderer key={i} tokens={verse} />\n                  ))}\n                </EventVersesContainer>\n              )}\n            </CollapsibleContent>\n          </EventContent>\n        </TimelineEventWrapper>\n      ))}\n    </TimelineContainer>\n  );\n};\n\nexport default Timeline;\n","// src/components/InteractiveContent/ContrastDisplay/ContrastDisplay.styled.jsx\nimport styled from \"styled-components\";\n\nexport const ContrastDisplayContainer = styled.div`\n  margin-top: ${({ theme }) => theme.spacing.large}; // ОНОВЛЕНО: Використано spacing\n  margin-bottom: ${({ theme }) => theme.spacing.large}; // ОНОВЛЕНО: Використано spacing\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0 ${({ theme }) => theme.spacing.small}; // ОНОВЛЕНО: Використано spacing\n\n  ${({ theme }) => theme.media.up(\"sm\")` // ОНОВЛЕНО: Використано медіазапит з теми\n    padding: 0;\n  `}\n`;\n\nexport const ContrastItemsWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: ${({ theme }) => theme.spacing.medium}; // ОНОВЛЕНО: Використано spacing\n  justify-content: center;\n  align-items: stretch;\n  width: 100%;\n`;\n\nexport const ContrastItem = styled.div`\n  flex: 1 1 auto;\n  max-width: calc(50% - ${({ theme }) => theme.spacing.small}); // ОНОВЛЕНО: Використано spacing\n\n  display: flex;\n  flex-direction: column;\n  padding: ${({ theme }) => theme.spacing.medium}; // ОНОВЛЕНО: Використано spacing\n  box-sizing: border-box;\n\n  border: 1px solid ${({ theme }) => theme.colors.borderColor}; // ОНОВЛЕНО: Використано theme.colors\n  border-radius: ${({ theme }) => theme.borderRadius.medium}; // ОНОВЛЕНО: Використано borderRadius\n  box-shadow: ${({ theme }) => theme.shadows.small}; // ОНОВЛЕНО: Використано shadows\n  transition: all 0.25s ease-in-out;\n\n  background-color: ${props => {\n    if (props.$type === \"positive\") return props.theme.colors.positiveBackground; // ОНОВЛЕНО\n    if (props.$type === \"negative\") return props.theme.colors.negativeBackground; // ОНОВЛЕНО\n    if (props.$type === \"neutral1\") return props.theme.colors.neutralBackground1; // ОНОВЛЕНО\n    if (props.$type === \"neutral2\") return props.theme.colors.neutralBackground2; // ОНОВЛЕНО\n    return props.theme.colors.cardBackground; // ОНОВЛЕНО\n  }};\n  border: 1px solid\n    ${props => {\n      if (props.$type === \"positive\") return props.theme.colors.positiveBorder; // ОНОВЛЕНО\n      if (props.$type === \"negative\") return props.theme.colors.negativeBorder; // ОНОВЛЕНО\n      if (props.$type === \"neutral1\") return props.theme.colors.neutralBorder1; // ОНОВЛЕНО\n      if (props.$type === \"neutral2\") return props.theme.colors.neutralBorder2; // ОНОВЛЕНО\n      return props.theme.colors.borderColor; // ОНОВЛЕНО\n    }};\n\n  &:hover {\n    box-shadow: ${({ theme }) => theme.shadows.medium}; // ОНОВЛЕНО: Використано shadows\n    transform: translateY(-2px);\n  }\n\n  ${({ theme }) => theme.media.down(\"sm\")` // ОНОВЛЕНО: Використано медіазапит з теми\n    max-width: 100%;\n  `}\n  min-width: 280px;\n`;\n\nexport const ItemHeading = styled.h4`\n  font-size: ${({ theme }) => theme.fontSizes.large}; // ОНОВЛЕНО: Використано fontSizes\n  margin-bottom: ${({ theme }) => theme.spacing.small}; // ОНОВЛЕНО: Використано spacing\n\n  flex-wrap: wrap;\n  word-break: break-word;\n  color: ${props => {\n    if (props.$type === \"positive\") return props.theme.colors.positiveText; // ОНОВЛЕНО\n    if (props.$type === \"negative\") return props.theme.colors.negativeText; // ОНОВЛЕНО\n    if (props.$type === \"neutral1\") return props.theme.colors.neutralText1; // ОНОВЛЕНО\n    if (props.$type === \"neutral2\") return props.theme.colors.neutralText2; // ОНОВЛЕНО\n    return props.theme.colors.color; // ОНОВЛЕНО\n  }};\n`;\n\nexport const ItemEmoji = styled.span`\n  font-size: ${({ theme }) => theme.fontSizes.xlarge}; // ОНОВЛЕНО: Використано fontSizes\n  margin-right: ${({ theme }) => theme.spacing.xsmall}; // ОНОВЛЕНО: Використано spacing\n`;\n\nexport const ItemContent = styled.div`\n  font-size: ${({ theme }) => theme.fontSizes.medium}; // ОНОВЛЕНО: Використано fontSizes\n  line-height: 1.6;\n  color: ${({ theme }) => theme.colors.color}; // ОНОВЛЕНО: Використано theme.colors\n\n  p {\n    margin-bottom: 1em;\n  }\n  p:last-child {\n    margin-bottom: 0;\n  }\n`;\n","// src/components/InteractiveContent/ContrastDisplay/ContrastDisplay.jsx\nimport React from \"react\";\nimport {\n  ContrastDisplayContainer,\n  ContrastItemsWrapper,\n  ContrastItem,\n  ItemHeading,\n  ItemEmoji,\n  ItemContent,\n} from \"./ContrastDisplay.styled\";\nimport SectionHeading from \"../../Common/SectionHeading/SectionHeading\";\nimport TokenRenderer from \"../../TokenRenderer/TokenRenderer\"; // 👈 Імпортуємо TokenRenderer\n\nconst ContrastDisplay = ({ title, items }) => {\n  if (!items || items.length < 2) {\n    return null;\n  }\n\n  return (\n    <ContrastDisplayContainer>\n      {title && (\n        <SectionHeading as=\"h3\">\n          {/* ✅ ВИПРАВЛЕННЯ: Використовуємо TokenRenderer для заголовка */}\n          <TokenRenderer tokens={title} />\n        </SectionHeading>\n      )}\n      <ContrastItemsWrapper>\n        {items.map((item, index) => (\n          <ContrastItem key={index} $type={item.type}>\n            <ItemHeading $type={item.type}>\n              {item.emoji && <ItemEmoji>{item.emoji}</ItemEmoji>}\n              {/* ✅ ВИПРАВЛЕННЯ: Використовуємо TokenRenderer для заголовка елемента */}\n              <TokenRenderer tokens={item.heading} />\n            </ItemHeading>\n            {/* ✅ ВИПРАВЛЕННЯ: Використовуємо TokenRenderer для контенту елемента */}\n            <ItemContent>\n              <TokenRenderer tokens={item.content} />\n            </ItemContent>\n          </ContrastItem>\n        ))}\n      </ContrastItemsWrapper>\n    </ContrastDisplayContainer>\n  );\n};\n\nexport default ContrastDisplay;\n","import styled from \"styled-components\";\n\nexport const DescriptionWithImageContainer = styled.section`\n  margin: ${({ theme }) => theme.spacing.large} 0;\n  padding: ${({ theme }) => theme.spacing.medium};\n  background-color: ${({ theme }) => theme.colors.background};\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\n  box-shadow: ${({ theme }) => theme.shadows.small};\n  display: flex;\n  flex-direction: column; /* За замовчуванням стовпець на мобільних */\n  gap: ${({ theme }) => theme.spacing.large};\n  align-items: center; /* Центрування елементів */\n  transition: background-color 0.25s ease-in-out, box-shadow 0.25s ease-in-out; // ДОДАНО: Переходи для фону та тіні\n\n  .content-area {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    gap: ${({ theme }) => theme.spacing.medium};\n\n    ${({ theme }) => theme.media.up(\"md\")`\n      flex-direction: ${({ imagePosition }) => (imagePosition === \"left\" ? \"row-reverse\" : \"row\")};\n      align-items: flex-start;\n    `}\n  }\n\n  h3 {\n    text-align: center;\n    margin-bottom: ${({ theme }) => theme.spacing.medium};\n    color: ${({ theme }) => theme.colors.color};\n    font-size: ${({ theme }) => theme.fontSizes.extraLarge};\n    transition: color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору заголовка\n\n    ${({ theme }) => theme.media.up(\"md\")`\n      text-align: left;\n    `}\n  }\n`;\n\nexport const TextContentWrapper = styled.div`\n  flex: 2;\n  font-size: ${({ theme }) => theme.fontSizes.medium};\n  line-height: 1.6;\n  color: ${({ theme }) => theme.colors.color};\n  transition: color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору тексту\n\n  p {\n    margin-bottom: 1em;\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  strong {\n    color: ${({ theme }) => theme.colors.accentColor};\n    transition: color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору акцентного тексту\n  }\n\n  ${({ theme }) => theme.media.up(\"md\")`\n    padding-right: ${({ theme }) => theme.spacing.medium};\n  `}\n`;\n\nexport const ImageWrapper = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  background-color: ${({ theme }) => theme.colors.secondaryBackground};\n  padding: ${({ theme }) => theme.spacing.small};\n  padding-top: 0;\n  border-radius: ${({ theme }) => theme.borderRadius.small};\n  box-shadow: ${({ theme }) => theme.shadows.extraSmall};\n  max-width: 100%;\n  transition: background-color 0.25s ease-in-out, box-shadow 0.25s ease-in-out; // ДОДАНО: Переходи для фону та тіні\n\n  ${({ theme }) => theme.media.up(\"md\")`\n    max-width: 45%;\n  `}\n`;\n\nexport const StyledImage = styled.img`\n  max-width: 100%;\n  height: auto;\n  border-radius: ${({ theme }) => theme.borderRadius.extraSmall};\n  margin-bottom: ${({ theme }) => theme.spacing.xsmall};\n`;\n\nexport const ImageCaption = styled.figcaption`\n  font-size: ${({ theme }) => theme.fontSizes.small};\n  color: ${({ theme }) => theme.colors.textColorLight};\n  line-height: 1.4;\n  transition: color 0.25s ease-in-out; // ДОДАНО: Перехід для кольору тексту\n`;\n","// src/components/InteractiveContent/DescriptionWithImage/DescriptionWithImage.jsx\n\nimport React from \"react\";\nimport {\n  DescriptionWithImageContainer,\n  TextContentWrapper,\n  ImageWrapper,\n  StyledImage,\n  ImageCaption,\n} from \"./DescriptionWithImage.styled\";\nimport SectionHeading from \"../../Common/SectionHeading/SectionHeading\";\nimport TokenRenderer from \"../../TokenRenderer/TokenRenderer\";\n\nconst DescriptionWithImage = ({ title, content, imageUrl, altText, caption, imagePosition }) => {\n  if (!content && !imageUrl) {\n    return null;\n  }\n\n  return (\n    <DescriptionWithImageContainer imagePosition={imagePosition}>\n      {title && <SectionHeading as=\"h3\">{title}</SectionHeading>}\n\n      <div className=\"content-area\">\n        {content && (\n          <TextContentWrapper>\n            {/* ✅ ВИПРАВЛЕННЯ: викликаємо map на пропсі content */}\n            {content.map((paragraph, pIndex) => (\n              <TokenRenderer key={pIndex} tokens={paragraph} />\n            ))}\n          </TextContentWrapper>\n        )}\n        {imageUrl && (\n          <ImageWrapper>\n            <StyledImage src={imageUrl} alt={altText} />\n            {caption && <ImageCaption>{caption}</ImageCaption>}\n          </ImageWrapper>\n        )}\n      </div>\n    </DescriptionWithImageContainer>\n  );\n};\n\nexport default DescriptionWithImage;\n","import React from \"react\";\nimport Card from \"../../Common/Card/Card\";\nimport SectionHeading from \"../../Common/SectionHeading/SectionHeading\";\nimport QuizCard from \"../../InteractiveContent/QuizCard/QuizCard\";\nimport RevealCard from \"../../InteractiveContent/RevealCard/RevealCard\";\nimport HomeGroupLessonMetaInfo from \"../HomeGroupLessonMetaInfo/HomeGroupLessonMetaInfo\";\nimport Diagram from \"../../InteractiveContent/Diagram/Diagram\";\nimport ImagePlaceholder from \"../../InteractiveContent/ImagePlaceholder/ImagePlaceholder\";\nimport HighlightBox from \"../../InteractiveContent/HighlightBox/HighlightBox\";\nimport QuestionPrompt from \"../../InteractiveContent/QuestionPrompt/QuestionPrompt\";\nimport ListCards from \"../../InteractiveContent/ListCards/ListCards\";\nimport List from \"../../InteractiveContent/List/List\";\nimport Timeline from \"../../InteractiveContent/Timeline/Timeline\";\nimport ContrastDisplay from \"../../InteractiveContent/ContrastDisplay/ContrastDisplay\";\nimport DescriptionWithImage from \"../../InteractiveContent/DescriptionWithImage/DescriptionWithImage\";\nimport TokenRenderer from \"../../TokenRenderer/TokenRenderer\";\nimport {\n  HomeGroupLessonDisplayContainer,\n  HomeGroupLessonTextWrapper,\n  HomeGroupLessonTitleWrapper,\n  MainContentWrapper,\n  SectionContainer,\n  StyledDescription,\n} from \"./HomeGroupLessonDisplay.styled\";\n\nfunction HomeGroupLessonDisplay({ lessonData }) {\n  if (!lessonData) {\n    return <p>Завантаження уроку домашньої групи...</p>;\n  }\n\n  const {\n    title,\n    author,\n    book,\n    chapter,\n    verses,\n    date,\n    duration,\n    theme: lessonTheme,\n    tags,\n    description,\n    sections,\n  } = lessonData;\n\n  const renderSectionContent = section => {\n    // ✅ ВИПРАВЛЕННЯ: використовуємо section.type, оскільки тепер він є рядком\n    switch (section.type) {\n      case \"text\":\n        return (\n          <>\n            {section.title && (\n              <SectionHeading\n                as={section.subtitle ? \"h3\" : \"h4\"}\n                size={section.subtitle ? \"medium\" : \"default\"}\n              >\n                <TokenRenderer tokens={section.title} />\n              </SectionHeading>\n            )}\n            {/* ✅ ДОДАНО: Підзаголовок рендериться після title */}\n            {section.subtitle && (\n              <SectionHeading as=\"h3\" size=\"small\">\n                <TokenRenderer tokens={section.subtitle} />\n              </SectionHeading>\n            )}\n            {/* ✅ ОНОВЛЕНО: Кожен абзац рендериться в тезі <p> */}\n            {section.content.map((paragraph, pIndex) => (\n              <p key={pIndex}>\n                <TokenRenderer tokens={paragraph} />\n              </p>\n            ))}\n          </>\n        );\n\n      case \"quiz\":\n        return (\n          <QuizCard\n            key={section.id}\n            quizData={{\n              ...section,\n              question: <TokenRenderer tokens={section.question} />,\n              options: section.options.map(opt => ({\n                ...opt,\n                text: <TokenRenderer tokens={opt.text} />,\n                rationale: <TokenRenderer tokens={opt.rationale} />,\n              })),\n            }}\n          />\n        );\n      case \"reveal-cards\":\n        return (\n          <>\n            {section.title && (\n              <SectionHeading as=\"h3\" size=\"default\">\n                <TokenRenderer tokens={section.title} />\n              </SectionHeading>\n            )}\n            {section.cards.map(card => (\n              <RevealCard\n                key={card.id}\n                id={card.id}\n                emoji={card.emoji}\n                // ✅ ВИПРАВЛЕННЯ: передаємо ТІЛЬКИ необроблений масив токенів\n                title={card.title}\n                content={card.content}\n              />\n            ))}\n          </>\n        );\n\n      case \"highlight-box\":\n        // ✅ ВИПРАВЛЕННЯ: Передаємо обидва пропси title та content як звичайні рядки\n        return <HighlightBox {...section} />;\n\n      case \"question-prompt\":\n        return (\n          <QuestionPrompt\n            {...section}\n            question={<TokenRenderer tokens={section.question} />}\n            answer={<TokenRenderer tokens={section.answer} />}\n          />\n        );\n\n      case \"list-cards\":\n        return <ListCards {...section} />;\n\n      case \"timeline\":\n        // ✅ ВИПРАВЛЕННЯ: Передаємо секцію без змін, дозволяючи Timeline обробити її самостійно.\n        return <Timeline {...section} />;\n\n      case \"contrast-section\":\n        // ✅ ВИПРАВЛЕННЯ: Передаємо секцію без змін, щоб ContrastDisplay обробив дані самостійно.\n        return <ContrastDisplay {...section} />;\n\n      case \"diagram\":\n        return (\n          <Diagram\n            key={section.id}\n            title={section.title}\n            // ✅ ВИПРАВЛЕННЯ: Передаємо TokenRenderer як prop для description\n            description={<TokenRenderer tokens={section.description} />}\n            chartType={section.chartType}\n            chartData={section.chartData}\n            chartOptions={section.chartOptions}\n          />\n        );\n\n      case \"image-placeholder\":\n        return (\n          <ImagePlaceholder\n            key={section.id}\n            imageUrl={section.imageUrl}\n            altText={section.altText}\n            caption={<TokenRenderer tokens={section.caption} />}\n          />\n        );\n\n      case \"description-with-image\":\n        return (\n          <DescriptionWithImage\n            key={section.id}\n            {...section}\n            title={<TokenRenderer tokens={section.title} />}\n            content={section.content}\n            caption={<TokenRenderer tokens={section.caption} />}\n          />\n        );\n      case \"list\":\n        return <List {...section} />;\n\n      default:\n        console.warn(\"Невідомий тип секції:\", section.type);\n        return null;\n    }\n  };\n\n  return (\n    <HomeGroupLessonDisplayContainer>\n      <HomeGroupLessonTitleWrapper>\n        <h2>\n          <TokenRenderer tokens={title} />\n        </h2>\n        <HomeGroupLessonMetaInfo\n          author={author}\n          book={book}\n          chapter={chapter}\n          verses={verses}\n          date={date}\n          duration={duration}\n          theme={lessonTheme}\n          tags={tags}\n        />\n      </HomeGroupLessonTitleWrapper>\n\n      <MainContentWrapper>\n        <Card>\n          <HomeGroupLessonTextWrapper>\n            <StyledDescription>\n              <TokenRenderer tokens={description} />\n            </StyledDescription>\n            {sections.map((section, index) => (\n              <SectionContainer key={index}>{renderSectionContent(section)}</SectionContainer>\n            ))}\n          </HomeGroupLessonTextWrapper>\n        </Card>\n      </MainContentWrapper>\n    </HomeGroupLessonDisplayContainer>\n  );\n}\n\nexport default HomeGroupLessonDisplay;\n","// src/utils/tagParser.js\n\n// Регулярні вирази для тегів\nconst BOLD_TAG = /\\[bold:(.*?)]/;\nconst ITALIC_TAG = /\\[italic:(.*?)]/;\nconst BIBLE_LINK_TAG = /\\[verse:([a-z0-9_]+(?::[\\d:,-]+)*):([^\\]]+)]/;\nconst LINK_TAG = /\\[link:([^:]+):([^\\]]+)]/;\nconst IMAGE_TAG = /\\[img:([^:]+):([^:]+):([^\\]]+)]/;\nconst HIGHLIGHT_TAG = /\\[highlight:(.*?)]/;\nconst QUOTE_TAG = /\\[quote:(.*?)]/;\n\n/**\n * Рекурсивно парсить текст, розбиваючи його на токени для форматування.\n * @param {string} text Рядок для обробки.\n * @returns {Array<string | object>} Масив токенів.\n */\nexport const parseTags = text => {\n  if (typeof text !== \"string\") {\n    return text;\n  }\n\n  // Виправлення: Створюємо новий об'єкт RegExp при кожному виклику,\n  // щоб уникнути проблем із 'lastIndex' у рекурсії\n  const ALL_TAGS_REGEX = new RegExp(\n    `(${BOLD_TAG.source}|${ITALIC_TAG.source}|${BIBLE_LINK_TAG.source}|${LINK_TAG.source}|${IMAGE_TAG.source}|${HIGHLIGHT_TAG.source}|${QUOTE_TAG.source})`,\n    \"gi\"\n  );\n\n  const parts = [];\n  let lastIndex = 0;\n  let match;\n\n  while ((match = ALL_TAGS_REGEX.exec(text)) !== null) {\n    const textBefore = text.slice(lastIndex, match.index);\n    if (textBefore) {\n      parts.push(textBefore);\n    }\n\n    const matchedText = match[0];\n    let token = null;\n\n    if (BOLD_TAG.test(matchedText)) {\n      const content = matchedText.match(BOLD_TAG)[1];\n      token = { type: \"bold\", content: parseTags(content) };\n    } else if (ITALIC_TAG.test(matchedText)) {\n      const content = matchedText.match(ITALIC_TAG)[1];\n      token = { type: \"italic\", content: parseTags(content) };\n    } else if (HIGHLIGHT_TAG.test(matchedText)) {\n      const content = matchedText.match(HIGHLIGHT_TAG)[1];\n      token = { type: \"highlight\", content: parseTags(content) };\n    } else if (QUOTE_TAG.test(matchedText)) {\n      const content = matchedText.match(QUOTE_TAG)[1];\n      token = { type: \"quote\", content: parseTags(content) };\n    } else if (BIBLE_LINK_TAG.test(matchedText)) {\n      const linkMatch = matchedText.match(BIBLE_LINK_TAG);\n      token = {\n        type: \"bible-link\",\n        bibleRef: linkMatch[1],\n        content: linkMatch[2],\n      };\n    } else if (LINK_TAG.test(matchedText)) {\n      const linkMatch = matchedText.match(LINK_TAG);\n      token = {\n        type: \"link\",\n        url: linkMatch[1],\n        content: parseTags(linkMatch[2]),\n      };\n    } else if (IMAGE_TAG.test(matchedText)) {\n      const imageMatch = matchedText.match(IMAGE_TAG);\n      token = {\n        type: \"image\",\n        url: imageMatch[1],\n        alt: imageMatch[2],\n        caption: parseTags(imageMatch[3]),\n      };\n    }\n\n    if (token) {\n      parts.push(token);\n    }\n\n    lastIndex = match.index + matchedText.length;\n  }\n\n  const textAfter = text.slice(lastIndex);\n  if (textAfter) {\n    parts.push(textAfter);\n  }\n\n  return parts;\n};\n","import { z } from \"zod\";\n\n// Оновлена схема для звичайного тексту, щоб вона була універсальною\nconst TokenizedText = z.lazy(() =>\n  z.union([\n    z.string(),\n    z.array(\n      z.union([\n        z.string(),\n        z.object({ type: z.literal(\"bold\"), content: TokenizedText }),\n        z.object({ type: z.literal(\"italic\"), content: TokenizedText }),\n        z.object({\n          type: z.literal(\"bible-link\"),\n          bibleRef: z.string(),\n          content: z.string(),\n        }),\n        z.object({\n          type: z.literal(\"link\"),\n          url: z.string(),\n          content: TokenizedText,\n        }),\n        z.object({\n          type: z.literal(\"image\"),\n          url: z.string(),\n          alt: z.string(),\n          caption: TokenizedText,\n        }),\n        z.object({ type: z.literal(\"highlight\"), content: TokenizedText }),\n        z.object({ type: z.literal(\"quote\"), content: TokenizedText }),\n      ])\n    ),\n  ])\n);\n\n/// Базова схема для всіх секцій\nconst BaseSectionSchema = z.object({\n  type: z.string(),\n  title: TokenizedText.optional(),\n});\n\n// ✅ ОНОВЛЕНО: Додано 'subtitle' до TextSectionSchema\nconst TextSectionSchema = BaseSectionSchema.extend({\n  type: z.literal(\"text\"),\n  subtitle: TokenizedText.optional(),\n  content: z.array(TokenizedText),\n});\n\n// ✅ ОНОВЛЕНО: Додано 'heading' до ListSectionSchema\nconst ListSectionSchema = BaseSectionSchema.extend({\n  type: z.literal(\"list\"),\n  heading: TokenizedText.optional(),\n  items: z.array(TokenizedText),\n});\n\n// Схема для відображення картками\nconst ListCardsSectionSchema = BaseSectionSchema.extend({\n  type: z.literal(\"list-cards\"),\n  cards: z.array(\n    z.object({\n      title: TokenizedText,\n      content: TokenizedText,\n      emoji: z.string().optional(),\n    })\n  ),\n});\n\nconst HighlightBoxSchema = BaseSectionSchema.extend({\n  type: z.literal(\"highlight-box\"),\n  content: TokenizedText,\n  emoji: z.string().optional(),\n});\n\nconst QuestionPromptSchema = BaseSectionSchema.extend({\n  type: z.literal(\"question-prompt\"),\n  question: TokenizedText,\n  answer: TokenizedText.optional(),\n  emoji: z.string().optional(),\n});\n\nconst ListCardsSchema = BaseSectionSchema.extend({\n  type: z.literal(\"list-cards\"),\n  cards: z.array(\n    z.object({\n      title: TokenizedText.optional(),\n      content: TokenizedText,\n      emoji: z.string().optional(),\n    })\n  ),\n});\n\nconst TimelineSchema = BaseSectionSchema.extend({\n  type: z.literal(\"timeline\"),\n  events: z.array(\n    z.object({\n      year: z.string().optional(),\n      title: TokenizedText,\n      description: TokenizedText.optional(),\n      verses: z.array(TokenizedText).optional(),\n    })\n  ),\n});\n\nconst RevealCardsSchema = BaseSectionSchema.extend({\n  type: z.literal(\"reveal-cards\"),\n  cards: z.array(\n    z.object({\n      id: z.string(),\n      emoji: z.string().optional(),\n      title: TokenizedText.optional(),\n      content: TokenizedText,\n    })\n  ),\n});\n\nconst QuizSchema = BaseSectionSchema.extend({\n  type: z.literal(\"quiz\"),\n  id: z.string(),\n  question: TokenizedText,\n  options: z.array(\n    z.object({\n      text: TokenizedText,\n      isCorrect: z.boolean(),\n      rationale: TokenizedText.optional(),\n    })\n  ),\n  hint: TokenizedText.optional(),\n});\n\nconst DiagramSchema = BaseSectionSchema.extend({\n  type: z.literal(\"diagram\"),\n  chartType: z.string(),\n  description: TokenizedText.optional(),\n  chartData: z.any(),\n  chartOptions: z.any(),\n});\n\nconst ImagePlaceholderSchema = BaseSectionSchema.extend({\n  type: z.literal(\"image-placeholder\"),\n  description: TokenizedText.optional(),\n  imageUrl: z.string(),\n  altText: z.string().optional(),\n  caption: TokenizedText.optional(),\n});\n\nconst DescriptionWithImageSchema = BaseSectionSchema.extend({\n  type: z.literal(\"description-with-image\"),\n  content: z.array(TokenizedText),\n  imageUrl: z.string(),\n  altText: z.string().optional(),\n  caption: TokenizedText.optional(),\n  imagePosition: z.string().optional(),\n});\n\nconst ContrastSectionSchema = BaseSectionSchema.extend({\n  type: z.literal(\"contrast-section\"),\n  items: z.array(\n    z.object({\n      heading: TokenizedText,\n      content: TokenizedText,\n      emoji: z.string().optional(),\n      type: z.string(),\n    })\n  ),\n});\n\nexport const LessonSchema = z.object({\n  id: z.string(),\n  title: TokenizedText,\n  shortTitle: z.string(),\n  book: z.string(),\n  bookInternalKey: z.string(),\n  chapter: z.string(),\n  verses: z.string(),\n  date: z.string(),\n  author: z.string(),\n  duration: z.string(),\n  tags: z.array(z.string()),\n  description: TokenizedText.optional(),\n  sections: z.array(\n    z.union([\n      TextSectionSchema,\n      ListCardsSectionSchema,\n      ListSectionSchema,\n      HighlightBoxSchema,\n      QuestionPromptSchema,\n      ListCardsSchema,\n      TimelineSchema,\n      RevealCardsSchema,\n      QuizSchema,\n      DiagramSchema,\n      ImagePlaceholderSchema,\n      DescriptionWithImageSchema,\n      ContrastSectionSchema,\n    ])\n  ),\n});\n","// src/utils/parserAndValidateLesson.js\nimport { parseTags } from \"./tagParser\";\nimport { LessonSchema } from \"./validationSchemas\";\n\n// ✅ ОНОВЛЕНО: Додано 'heading' і 'subtitle' до списку TOKENIZABLE_KEYS\nconst TOKENIZABLE_KEYS = [\n  \"title\",\n  \"shortTitle\",\n  \"description\",\n  \"content\",\n  \"question\",\n  \"answer\",\n  \"text\",\n  \"heading\", // ✅ Додано\n  \"caption\",\n  \"rationale\",\n  \"verses\",\n  \"items\",\n  \"subtitle\", // ✅ Додано\n];\n\nconst deepParseTags = (data, parentKey = null) => {\n  if (typeof data === \"string\") {\n    if (TOKENIZABLE_KEYS.includes(parentKey)) {\n      const parsedResult = parseTags(data);\n      if (Array.isArray(parsedResult)) {\n        return parsedResult;\n      }\n      return [parsedResult];\n    }\n    return data;\n  }\n  if (Array.isArray(data)) {\n    return data.map(item => deepParseTags(item, parentKey));\n  }\n  if (typeof data === \"object\" && data !== null) {\n    const newData = {};\n    for (const key in data) {\n      newData[key] = deepParseTags(data[key], key);\n    }\n    return newData;\n  }\n  return data;\n};\n\nexport const parseAndValidateLesson = lessonData => {\n  try {\n    const validatedData = LessonSchema.parse(lessonData);\n    const parsedLesson = deepParseTags(validatedData, \"lesson\");\n    return { success: true, lesson: parsedLesson, error: null };\n  } catch (error) {\n    console.error(\"Помилка валідації уроку:\", error.message);\n    return { success: false, lesson: null, error: error.message };\n  }\n};\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { useOutletContext, useLocation } from \"react-router-dom\";\nimport { HomeGroupsContainer, NoLessonMessage } from \"./HomeGroups.styled\";\nimport HomeGroupLessonDisplay from \"../SpecificContentDisplays/HomeGroupLessonDisplay/HomeGroupLessonDisplay\";\nimport { homeGroupsContent } from \"../../data/homeGroups/homeGroupsContent\";\nimport { useHomeGroups } from \"../../contexts/HomeGroupsContext\";\nimport {\n  homeGroupCategories,\n  oldTestamentBooksList,\n  newTestamentBooksList,\n} from \"../../data/homeGroups/homeGroupCategories\";\n\n// --- ВАЖЛИВО ---: Імпортуємо вашу нову утиліту для парсингу\nimport { parseAndValidateLesson } from \"../../utils/parseAndValidateLesson\";\n\n// Оптимізована функція для пошуку уроку\nconst getLessonMetaDataById = lessonId => {\n  if (!lessonId) return null;\n\n  for (const categoryKey in homeGroupsContent) {\n    const lessonsArray = homeGroupsContent[categoryKey];\n    if (lessonsArray) {\n      const foundLesson = lessonsArray.find(lesson => lesson.id === lessonId);\n      if (foundLesson) {\n        return foundLesson;\n      }\n    }\n  }\n  return null;\n};\n\n// Оптимізована функція для пошуку першого уроку\nconst findFirstLesson = () => {\n  for (const category of homeGroupCategories) {\n    if (category.id === \"old-testament-books\" || category.id === \"new-testament-books\") {\n      const booksList =\n        category.id === \"old-testament-books\" ? oldTestamentBooksList : newTestamentBooksList;\n      for (const book of booksList) {\n        const lessons = homeGroupsContent[book.internalKey];\n        if (lessons && lessons.length > 0) {\n          return lessons[0].id;\n        }\n      }\n    } else if (category.type === \"thematic\" || category.type === \"special\") {\n      const lessons = homeGroupsContent[category.id];\n      if (lessons && lessons.length > 0) {\n        return lessons[0].id;\n      }\n    }\n  }\n  return null;\n};\n\nconst HomeGroups = () => {\n  const { mainRef } = useOutletContext();\n  const { selectedHomeGroupLesson, setSelectedHomeGroupLesson } = useHomeGroups();\n  // --- ЗМІНА 1 ---: Змінюємо стан для зберігання спарсеного уроку або помилки\n  const [parsedLesson, setParsedLesson] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const location = useLocation();\n\n  const isInitialLoad = useRef(true);\n\n  // useEffect для ініціалізації уроку\n  useEffect(() => {\n    if (!selectedHomeGroupLesson) {\n      const firstLessonId = findFirstLesson();\n      if (firstLessonId) {\n        setSelectedHomeGroupLesson(firstLessonId);\n      } else {\n        setLoading(false);\n      }\n    }\n  }, [selectedHomeGroupLesson, setSelectedHomeGroupLesson]);\n\n  // ВИПРАВЛЕНИЙ useEffect для завантаження контенту уроку\n  useEffect(() => {\n    const loadAndParseLessonContent = async () => {\n      setLoading(true);\n      setParsedLesson(null);\n      setError(null);\n\n      if (mainRef && mainRef.current && !isInitialLoad.current) {\n        mainRef.current.scrollTop = 0;\n      }\n\n      const lessonMetaData = getLessonMetaDataById(selectedHomeGroupLesson);\n      if (lessonMetaData && lessonMetaData.loadLesson) {\n        try {\n          // Динамічно завантажуємо модуль\n          const module = await lessonMetaData.loadLesson();\n          const lessonJson = module.default;\n\n          // --- ЗМІНА 2 ---: Викликаємо parseAndValidateLesson для валідації та парсингу\n          const { success, lesson, error: validationError } = parseAndValidateLesson(lessonJson);\n\n          if (success) {\n            setParsedLesson(lesson);\n          } else {\n            // Зберігаємо помилку валідації в стані\n            setError(`Помилка валідації уроку: ${validationError}`);\n            setParsedLesson(null);\n          }\n        } catch (error) {\n          console.error(\"Помилка завантаження або парсингу уроку:\", error);\n          setError(\"Не вдалося завантажити урок. Спробуйте пізніше.\");\n          setParsedLesson(null);\n        } finally {\n          setLoading(false);\n        }\n      } else {\n        setLoading(false);\n        setParsedLesson(null);\n        setError(\"Урок не знайдено.\");\n      }\n    };\n\n    if (selectedHomeGroupLesson) {\n      loadAndParseLessonContent();\n    }\n  }, [selectedHomeGroupLesson, mainRef]);\n\n  // useEffect для відновлення скролу після завантаження контенту\n  useEffect(() => {\n    if (parsedLesson && mainRef && mainRef.current) {\n      const savedScrollY = sessionStorage.getItem(`scrollPosition-${location.pathname}`);\n\n      if (savedScrollY && isInitialLoad.current) {\n        const parsedScroll = parseInt(savedScrollY, 10);\n        mainRef.current.scrollTop = parsedScroll;\n      }\n\n      isInitialLoad.current = false;\n    }\n  }, [parsedLesson, mainRef, location.pathname]);\n\n  return (\n    <HomeGroupsContainer>\n      {loading ? (\n        <NoLessonMessage>Завантаження уроку...</NoLessonMessage>\n      ) : error ? (\n        // --- ЗМІНА 3 ---: Показуємо повідомлення про помилку\n        <NoLessonMessage>{error}</NoLessonMessage>\n      ) : parsedLesson ? (\n        // --- ЗМІНА 4 ---: Передаємо вже спарсений об'єкт уроку\n        <HomeGroupLessonDisplay lessonData={parsedLesson} />\n      ) : (\n        <NoLessonMessage>\n          Будь ласка, оберіть урок домашньої групи зі списку в меню.\n        </NoLessonMessage>\n      )}\n    </HomeGroupsContainer>\n  );\n};\n\nexport default HomeGroups;\n","import HomeGroups from \"../components/HomeGroups\";\n\nexport default function HomeGroupsPage() {\n  return <HomeGroups />;\n}\n"],"names":["HomeGroupsContainer","styled","div","_ref","theme","colors","background","NoLessonMessage","p","_ref2","spacing","xxlarge","_ref3","fontSizes","medium","_ref4","colorSecondary","MetaInfoContainer","small","media","down","xsmall","_ref5","_ref6","color","_ref7","_ref8","_ref9","tagBg","_ref0","tagColor","_ref1","borderRadius","_ref10","_ref11","author","book","chapter","verses","date","duration","tags","_jsxs","children","_jsx","length","className","map","tag","index","DiagramContainer","borderColor","shadows","DiagramWrapper","ChartBox","LegendBox","LegendItem","LegendColor","span","LegendText","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","BarElement","ArcElement","RadialLinearScale","Title","Tooltip","Legend","Filler","renderChart","chartType","chartData","chartOptions","datasets","Line","data","options","Bar","Pie","Doughnut","PolarArea","Radar","Bubble","Scatter","title","description","currentTheme","useTheme","memoizedChartData","useMemo","getChartDataWithTheme","type","newChartData","dataset","newDataset","dynamicColors","accentColor","navActive","accentBg","navBg","interactiveBgLight","interactiveBorderLight","interactiveBgYellow","interactiveBorderYellow","buttonBg","successColor","dangerColor","backgroundColor","Array","isArray","i","dataPointsCount","from","_","pointBackgroundColor","pointBorderColor","hoverBackgroundColor","hoverBg","hoverBorderColor","fill","memoizedChartOptions","getChartOptionsWithTheme","_theme$colors","_options$plugins","_options$scales","_theme$colors2","_theme$colors3","_options$scales2","_theme$colors4","_theme$colors5","newOptions","responsive","maintainAspectRatio","layout","padding","left","right","top","bottom","plugins","legend","display","includes","labels","font","size","boxWidth","position","align","tooltip","bodyFont","titleFont","scales","y","border","ticks","grid","x","cutout","customLegendItems","_memoizedChartData$da","label","text","TokenRenderer","tokens","item","style","ImageContainer","large","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","StyledImage","img","_ref18","_ref19","ImageCaption","_ref20","_ref21","_ref22","imageUrl","caption","altText","src","alt","HighlightBoxContainer","buttonColor","accentBgHover","xlarge","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref30","_ref31","_ref32","_ref33","HighlightBoxEmoji","_ref34","_ref35","_ref36","_ref37","HighlightBoxContent","HighlightBoxTitle","h4","_ref38","_ref39","_ref40","content","emoji","QuestionPromptContainer","QuestionEmoji","QuestionText","ToggleAnswerButton","button","hoverBtn","AnswerText","question","answer","showAnswer","setShowAnswer","useState","onClick","handleToggleAnswer","AnimatePresence","motion","initial","height","opacity","overflow","animate","exit","transition","ease","ListContainer","up","h2","xxsmall","CardsGrid","CardWrapper","article","cardBackground","cardBorder","primaryColor","CardHeader","Emoji","CardTitle","h3","CardContentWrapper","isExpanded","ButtonWrapper","bg","rgb","replace","m","r","g","b","substring","match","parseInt","join","ReadMoreButton","_ref41","_ref42","_ref43","_ref44","expansionReducer","state","action","payload","rowIndex","PREVIEW_HEIGHT","Card","React","card","toggleExpand","collapseCard","handleRowBlur","contentRef","useRef","isOverflowing","setIsOverflowing","contentFullHeight","setContentFullHeight","useEffect","checkOverflow","current","scrollHeight","window","addEventListener","timeoutId","setTimeout","removeEventListener","clearTimeout","onBlur","tabIndex","role","width","ref","id","e","stopPropagation","_Fragment","cards","activeRowIndex","dispatch","useReducer","columnCount","setColumnCount","gridRef","getColumnCount","useCallback","innerWidth","handleResize","clickedRowIndex","Math","floor","contains","relatedTarget","cardRowIndex","isCardExpanded","StyledList","ul","StyledListItem","li","ListItemContent","BulletIcon","ListText","items","heading","SectionHeading","as","FaCircle","TimelineContainer","TimelineEventWrapper","EventDot","EventContent","EventTitle","EventYear","EventVersesContainer","dividerColor","StyledCollapsibleContent","InnerContentWrapper","isOpen","props","variants","open","collapsed","delay","events","activeEventId","setActiveEventId","handleVerseClick","event","scale","repeat","Infinity","repeatType","handleToggle","whileHover","cursor","year","rotate","marginLeft","CollapsibleContent","fontSize","descItem","verse","ContrastDisplayContainer","ContrastItemsWrapper","ContrastItem","$type","positiveBackground","negativeBackground","neutralBackground1","neutralBackground2","positiveBorder","negativeBorder","neutralBorder1","neutralBorder2","ItemHeading","positiveText","negativeText","neutralText1","neutralText2","ItemEmoji","ItemContent","DescriptionWithImageContainer","section","imagePosition","extraLarge","TextContentWrapper","ImageWrapper","secondaryBackground","extraSmall","figcaption","textColorLight","paragraph","pIndex","lessonData","lessonTheme","sections","renderSectionContent","subtitle","QuizCard","quizData","opt","rationale","RevealCard","HighlightBox","QuestionPrompt","ListCards","Timeline","ContrastDisplay","Diagram","ImagePlaceholder","DescriptionWithImage","List","console","warn","HomeGroupLessonDisplayContainer","HomeGroupLessonTitleWrapper","HomeGroupLessonMetaInfo","MainContentWrapper","HomeGroupLessonTextWrapper","StyledDescription","SectionContainer","BOLD_TAG","ITALIC_TAG","BIBLE_LINK_TAG","LINK_TAG","IMAGE_TAG","HIGHLIGHT_TAG","QUOTE_TAG","parseTags","ALL_TAGS_REGEX","RegExp","source","parts","lastIndex","exec","textBefore","slice","push","matchedText","token","test","linkMatch","bibleRef","url","imageMatch","textAfter","TokenizedText","z","BaseSectionSchema","optional","TextSectionSchema","extend","ListSectionSchema","ListCardsSectionSchema","HighlightBoxSchema","QuestionPromptSchema","ListCardsSchema","TimelineSchema","RevealCardsSchema","QuizSchema","isCorrect","hint","DiagramSchema","ImagePlaceholderSchema","DescriptionWithImageSchema","ContrastSectionSchema","LessonSchema","shortTitle","bookInternalKey","TOKENIZABLE_KEYS","deepParseTags","parentKey","arguments","undefined","parsedResult","newData","key","HomeGroups","mainRef","useOutletContext","selectedHomeGroupLesson","setSelectedHomeGroupLesson","useHomeGroups","parsedLesson","setParsedLesson","error","setError","loading","setLoading","location","useLocation","isInitialLoad","firstLessonId","findFirstLesson","category","homeGroupCategories","booksList","oldTestamentBooksList","newTestamentBooksList","lessons","homeGroupsContent","internalKey","loadAndParseLessonContent","async","scrollTop","lessonMetaData","lessonId","categoryKey","lessonsArray","foundLesson","find","lesson","getLessonMetaDataById","loadLesson","lessonJson","default","success","validationError","validatedData","parse","message","parseAndValidateLesson","savedScrollY","sessionStorage","getItem","pathname","parsedScroll","HomeGroupLessonDisplay","HomeGroupsPage"],"sourceRoot":""}